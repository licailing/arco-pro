import{d as f,j as c,aI as a,bu as o}from"./arco.aca93ce0.js";import{B as h,T as d,f as g}from"./index.6a9d9281.js";import"./chart.4da6b461.js";import"./vue.7ac8ed9f.js";const y=f({name:"Premit",setup(I){const r=c(),m=e=>{r.value=e},n=c(),u=e=>{n.value=e},s=[{title:"ID",dataIndex:"premitId",hideInForm:!0,sortable:{sortDirections:["ascend","descend"]}},{title:"\u6A21\u5757",dataIndex:"premitModule",formItemProps:{rules:[{required:!0,message:"\u6A21\u5757\u4E0D\u80FD\u4E3A\u7A7A"}]},fieldProps:{maxLength:20}},{title:"\u6A21\u5757\u63CF\u8FF0",dataIndex:"premitModuleDesc",formItemProps:{rules:[{required:!0,message:"\u6A21\u5757\u63CF\u8FF0\u4E0D\u80FD\u4E3A\u7A7A"}]},fieldProps:{maxLength:50}},{title:"\u65B9\u6CD5",dataIndex:"premitAction",formItemProps:{rules:[{required:!0,message:"\u65B9\u6CD5\u4E0D\u80FD\u4E3A\u7A7A"}]},fieldProps:{maxLength:50}},{title:"\u65B9\u6CD5\u63CF\u8FF0",dataIndex:"premitActionDesc",formItemProps:{rules:[{required:!0,message:"\u65B9\u6CD5\u63CF\u8FF0\u4E0D\u80FD\u4E3A\u7A7A"}]},fieldProps:{maxLength:20}}],l=async()=>{const e=o.loading("\u6B63\u5728\u751F\u6210\u5E73\u53F0\u6743\u9650");try{const{success:t}=await g.get("/api/premit/generate");return e.close(),t?(o.success("\u751F\u6210\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"),!0):!1}catch{return e.close(),o.error("\u751F\u6210\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),!1}};return{render:()=>{const e=[{action:1,name:"\u751F\u6210\u5E73\u53F0\u6743\u9650",handleClick:async({action:i})=>{await l()&&i.reload()}},{action:1,name:"\u5237\u65B0",handleClick:()=>{r.value.reload()}},{action:1,name:"\u91CD\u7F6E",handleClick:()=>{r.value.reset()}},{action:2,alias:"edit",path:"/api/premit/update",name:"\u7F16\u8F91"},{action:2,alias:"delete",path:"/api/premit/delete",name:"\u5220\u9664"}],t=[{action:1,name:"\u751F\u6210\u5E73\u53F0\u6743\u9650",handleClick:async({action:i})=>{await l()&&i.reload()}},{action:1,name:"\u5237\u65B0",handleClick:()=>{n.value.reload()}},{action:1,name:"\u91CD\u7F6E",handleClick:()=>{n.value.reset()}},{action:2,alias:"edit",path:"/api/premit/update",name:"\u7F16\u8F91"},{action:2,alias:"delete",path:"/api/premit/delete",name:"\u5220\u9664"}];return a("div",null,[a(h,{items:["menu.platform","menu.platform.premit"]},null),a(d,{rowKey:"premitId",columns:s,url:"/api/premit/list",modal:!0,actionRef:m,buttons:e,rowSelection:{type:"checkbox",showCheckedAll:!0},pagination:{defaultPageSize:5}},null),a(d,{rowKey:"premitId",columns:s,url:"/api/premit/list",modal:!0,actionRef:u,searchType:"light",buttons:t,rowSelection:{type:"checkbox",showCheckedAll:!0},pagination:{defaultPageSize:5}},null)])}}},render(){return this.render()}});export{y as default};
