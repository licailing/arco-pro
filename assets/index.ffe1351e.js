import{d as i,j as m,o as c,aI as t,bi as p,bc as h}from"./arco.aca93ce0.js";import{f,B as I,T as v}from"./index.b4ee688f.js";import"./chart.4da6b461.js";import"./vue.7ac8ed9f.js";const C=i({name:"Role",setup(){const r=m([]);c(()=>{f.get("/api/premit/menu").then(e=>{e.success&&(r.value=e.data)})});const d=(e,a)=>{e.value.setFields({premits:{value:a}})},o=[{title:"ID",dataIndex:"roleId",hideInSearch:!0,valueType:"hidden"},{title:"\u89D2\u8272\u540D",dataIndex:"roleName",rules:[{required:!0,message:"\u89D2\u8272\u540D\u4E0D\u80FD\u4E3A\u7A7A"}]},{title:"\u6743\u9650",dataIndex:"premits",hideInSearch:!0,hideInTable:!0,renderFormItem:({formModel:e,formRef:a})=>{const{roleId:l}=e.value;if(l==="1")return t("span",null,[p("\u5168\u90E8")]);const n=e.value.premits;return t(h("a-tree"),{key:l,checkable:!0,defaultExpandAll:n===void 0,data:r.value,checkedKeys:n,defaultExpandedKeys:n,onCheck:u=>d(a,u)},null)}}],s=[{action:1,alias:"add",path:"/api/role/update",name:"\u65B0\u589E"},{action:2,alias:"edit",path:"/api/role/update",name:"\u7F16\u8F91"},{action:2,alias:"delete",path:"/api/role/delete",name:"\u5220\u9664"}];return{render:()=>t("div",null,[t(I,{items:["menu.platform","menu.platform.admin"]},null),t(v,{rowKey:"roleId",columns:o,url:"/api/role/list",modal:!0,buttons:s},null)])}},render(){return this.render()}});export{C as default};
